/**
 * postal - postal.js add-on enabling forwarding from one channel/topic to another.
 * Author: Jim Cowart (http://ifandelse.com/)
 * Version: v0.1.0
 * Url: http://github.com/postaljs/postal.linked-channels
 * License(s): MIT
 */
(function(n,o){"function"==typeof define&&define.amd?define(["lodash","postal"],function(t,i){return o(t,i,n)}):"object"==typeof module&&module.exports?module.exports=function(n){return o(require("lodash"),n,this)}:n.postal=o(n._,n.postal,n)})(this,function(n,o){return o.linkChannels=function(o,t){var i=[],c=this;return o=n.isArray(o)?o:[o],t=n.isArray(t)?t:[t],n.each(o,function(o){var e=o.topic||"#";n.each(t,function(t){var a=t.channel||c.configuration.DEFAULT_CHANNEL;i.push(c.subscribe({channel:o.channel||c.configuration.DEFAULT_CHANNEL,topic:e,callback:function(o,i){var e=n.clone(i);e.topic=n.isFunction(t.topic)?t.topic(i.topic):t.topic||i.topic,e.channel=a,e.data=o,c.publish(e)}}))})}),i},o});